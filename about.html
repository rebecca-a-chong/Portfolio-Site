<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>About</title>
    <link rel="icon" href="img/Favicon.png" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    </head>

<body>
    <header>
        <div class="navbar">
            <a href="index.html">
                <img src="img/Personal Logo.png" alt="Personal Logo" class="logo pressableElement"></a>
            <ul>
                <li class="work-margin">
                    <h3><strong><a href="index.html" class="pressableElement">W<span
                                    class="work-letter">o</span>rk</a></strong>
                    </h3>
                </li>
                <li class="about-margin">
                    <h3><strong><a href="#" class="pressableElement">Ab<span
                                    class="about-letter">o</span>ut</a></strong>
                    </h3>
                </li>
            </ul>
        </div>
    </header>

    <body>
        <div class="typing-container">
            <span id="sentence" class="sentence">I'm </span>
            <span id="feature-text"></span>
            <span class="input-cursor"></span>
        </div>

        <script>
            const carouselText = [
                { text: "Rebecca!" },
                { text: "Becca!" },
                { text: "Becks!" }
            ]

            $(document).ready(async function () {
                carousel(carouselText, "#feature-text")
            });

            async function typeSentence(sentence, eleRef, delay = 100) {
                const letters = sentence.split("");
                let i = 0;
                while (i < letters.length) {
                    await waitForMs(delay);
                    $(eleRef).append(letters[i]);
                    i++
                }
                return;
            }

            async function deleteSentence(eleRef) {
                const sentence = $(eleRef).html();
                const letters = sentence.split("");
                let i = 0;
                while (letters.length > 0) {
                    await waitForMs(100);
                    letters.pop();
                    $(eleRef).html(letters.join(""));
                }
            }

            async function carousel(carouselList, eleRef) {
                var i = 0;
                while (true) {
                    updateFontColor(eleRef, carouselList[i].color)
                    await typeSentence(carouselList[i].text, eleRef);
                    await waitForMs(1500);
                    await deleteSentence(eleRef);
                    await waitForMs(500);
                    i++
                    if (i >= carouselList.length) { i = 0; }
                }
            }

            function updateFontColor(eleRef, color) {
                $(eleRef).css('color', color);
            }

            function waitForMs(ms) {
                return new Promise(resolve => setTimeout(resolve, ms))
            }
        </script>

    </body>

</html>